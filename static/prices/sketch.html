<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../css/base.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Great+Vibes&display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Playfair+Display&display=swap">
    <title>Sketch</title>
</head>
<body>
    <header class="title-wrapper">
        <img src="../../bubule.png" class="title-img" alt="Left image">
        <h1>Sketch</h1>
        <img src="../../bubule.png" class="title-img" alt="Right image">
    </header>
    <div class="accessibility-controls">
        <button id="access-toggle" aria-pressed="false" onclick="toggleAstigmatismMode()">Astigmate mode (deactivated)</button>
        <button id="colorblind-toggle" aria-pressed="false" onclick="toggleColorblindMode()">Daltonien mode (deactivated)</button>
    </div>
<button id="sidebar-toggle" onclick="toggleSidebar()">☰</button>

    <div id="sidebar">
        <h3>Main pages</h3>
        <a href="../../index.html">Back to index</a>
        <a href="../main/budget_simulation.html">Budget simulator</a>
        <a href="../main/commission_guide.html">Commission guide</a>
        <a href="../../portfolio.html">Portfolio</a>
    <h3>Prices</h3>
        <a href="lineart.html">Lineart prices</a>
        <a href="flat.html">Flat prices</a>
        <a href="render.html">Render prices</a>
        <hr>
        <h3>Contact Me</h3>
        <a href="https://www.tumblr.com/blog/noveltale">Tumblr</a>
        <a href="https://www.instagram.com/suteki_koneko_/">Instagram</a>
    </div>
<nav>
    <a href="../../index.html">Back</a>
</nav>

<div class="detail-wrapper">

    <div class="detail-container">

        <div class="card-static">
            <img src="../../Commission_pictures/sketch.png" alt="Carte 1">
        </div>

        <div class="detail-column">
            <div class="detail-text">
                <p><strong>Head</strong> : <span id="price-head">...</span>€</p>
                <p><strong>Chest</strong> : <span id="price-chest">...</span>€</p>
                <p><strong>Full</strong> : <span id="price-full">...</span>€</p>

                <p>I can draw self-ships, OCs, gore and more!</p>

                <p><strong>Info:</strong> I reserve the right to refuse a commission if I'm uncomfortable with it</p>
                <p>Payment will be done via <strong>Paypal</strong></p>

                <p>If you're interested, go check out the <a href="../main/commission_guide.html" class="contact-link">commission guide</a>
                </p>
            </div>

            <div class="detail-text">
                <p>Additional characters: <strong>25%</strong> of the original price will be added for each extra character.</p>
                <p>Background price may vary between <strong>5%</strong> and <strong>40%</strong> of the original price depending on the complexity.</p>
            </div>
        </div>

    </div>

</div>


<script>
    function toggleSidebar() {
        const sidebar = document.getElementById('sidebar');
        sidebar.classList.toggle('visible');
    }

    const body = document.body;

    const ASTIG_STORAGE_KEY = 'astigmatismModeActive';
    const accessToggleButton = document.getElementById('access-toggle');

    function updateAstigmatismButton(isActive) {
        if (accessToggleButton) {
            accessToggleButton.setAttribute('aria-pressed', isActive);
            accessToggleButton.textContent = isActive ? 'Astigmate mode (activated)' : 'Astigmate mode (deactivated)';
        }
    }

    function toggleAstigmatismMode() {
        if (body.classList.contains('colorblind-mode')) {
            toggleColorblindMode();
        }
        const isActive = body.classList.toggle('astigmatism-mode');
        localStorage.setItem(ASTIG_STORAGE_KEY, isActive);
        updateAstigmatismButton(isActive);
    }

    function loadAstigmatismMode() {
        const isActive = localStorage.getItem(ASTIG_STORAGE_KEY) === 'true';
        if (isActive) {
            body.classList.add('astigmatism-mode');
        }
        updateAstigmatismButton(isActive);
    }

    const CB_STORAGE_KEY = 'colorblindModeActive';
    const colorblindToggleButton = document.getElementById('colorblind-toggle');

    function updateColorblindButton(isActive) {
        if (colorblindToggleButton) {
            colorblindToggleButton.setAttribute('aria-pressed', isActive);
            colorblindToggleButton.textContent = isActive ? 'Daltonien mode (activated)' : 'Daltonien mode (deactivated)';
        }
    }

    function toggleColorblindMode() {
        if (body.classList.contains('astigmatism-mode')) {
            toggleAstigmatismMode();
        }
        const isActive = body.classList.toggle('colorblind-mode');
        localStorage.setItem(CB_STORAGE_KEY, isActive);
        updateColorblindButton(isActive);
    }

    function loadColorblindMode() {
        const isActive = localStorage.getItem(CB_STORAGE_KEY) === 'true';
        if (isActive) {
            body.classList.add('colorblind-mode');
        }
        updateColorblindButton(isActive);
    }

    loadAstigmatismMode();
    loadColorblindMode();

    fetch('../../prices.json')
        .then(response => response.json())
        .then(data => {
            const sketch = data["sketch"];

            if (sketch) {
                document.getElementById("price-head").textContent = sketch.head;
                document.getElementById("price-chest").textContent = sketch.bust;
                document.getElementById("price-full").textContent = sketch.full;
            }
        })
        .catch(error => console.error("Erreur chargement JSON :", error));
</script>

</body>
</html>
